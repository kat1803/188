{"ast":null,"code":"import invariant from '../utils/invariant';\nimport getScreenForRouteName from './getScreenForRouteName';\nimport validateScreenOptions from './validateScreenOptions';\n\nfunction applyConfig(configurer, navigationOptions, configProps) {\n  if (typeof configurer === 'function') {\n    return { ...navigationOptions,\n      ...configurer({ ...configProps,\n        navigationOptions\n      })\n    };\n  }\n\n  if (typeof configurer === 'object') {\n    return { ...navigationOptions,\n      ...configurer\n    };\n  }\n\n  return navigationOptions;\n}\n\nexport default ((routeConfigs, navigatorScreenConfig) => (navigation, screenProps) => {\n  const state = navigation.state,\n        dispatch = navigation.dispatch;\n  const route = state;\n  invariant(route.routeName && typeof route.routeName === 'string', 'Cannot get config because the route does not have a routeName.');\n  const Component = getScreenForRouteName(routeConfigs, route.routeName);\n  const routeConfig = routeConfigs[route.routeName];\n  const routeScreenConfig = routeConfig === Component ? null : routeConfig.navigationOptions;\n  const componentScreenConfig = Component.navigationOptions;\n  const configOptions = {\n    navigation,\n    screenProps: screenProps || {}\n  };\n  let outputConfig = applyConfig(navigatorScreenConfig, {}, configOptions);\n  outputConfig = applyConfig(componentScreenConfig, outputConfig, configOptions);\n  outputConfig = applyConfig(routeScreenConfig, outputConfig, configOptions);\n  validateScreenOptions(outputConfig, route);\n  return outputConfig;\n});","map":null,"metadata":{},"sourceType":"module"}